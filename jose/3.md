# 1ï¸âƒ£ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  í›… íŒŒí—¤ì¹˜ê¸°
ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ê°œë…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê°œë…ì¸ í›…ì—ëŒ€í•´ì„œ ê³µë¶€í•´ë³´ì.
## í›…ì˜ ì •ì˜
ê¸°ì¡´ Class ë°”íƒ•ì˜ ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš” ì—†ì´ ìƒíƒœ ê°’ê³¼ ì—¬ëŸ¬ Reactì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## useState
í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìƒíƒœë¥¼ ì •ì˜í•˜ê³ , ìƒíƒœë¥¼ ê´€ë¦¬í•´ì¤„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í›…ì´ë‹¤.

### í™”ë©´ì„ ì •ìƒì ìœ¼ë¡œ ê·¸ë¦¬ì§€ ëª»í•˜ëŠ” ë¦¬ì•¡íŠ¸ ì½”ë“œ
--------------------
ì•„ë˜ì½”ë“œëŠ” ìš°ë¦¬ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ í™”ë©´ì„ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.
 ```
 function Component() {
  let state = "hello";

  function handleButtonClick() {
    state = "hi";
  }

  return (
    <>
      <h1>{state}</h1>
      <button onClick={handleButtonClick}>hi</button>
    </>
  );
}
 ```
> ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ê¸° ìœ„í•œ ì¡°ê±´ì„ ì „í˜€ ì¶©ì¡±í•˜ì§€ ëª»í•˜ê³  ìˆê¸° ë•Œë¬¸

ğŸš¨ì—¬ê¸°ì„œ ì ê¹! ë¦¬ë Œë”ë§ì˜ ë°œìƒì¡°ê±´ì„ ë‹¤ì‹œ ë³µìŠµí•´ë³´ì.
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ useState()ì˜ ë‘ ë²ˆì§¸ ë°°ì—´ ìš”ì†Œì¸ setterê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš°, stateë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” í•¨ìˆ˜
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ useReducer()ì˜ ë‘ ë²ˆì§¸ ë°°ì—´ ìš”ì†Œì¸ dispatchê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš°
- ì»´í¬ë„ŒíŠ¸ì˜ key propsê°€ ë³€ê²½ë˜ëŠ” ê²½ìš°: ë¦¬ì•¡íŠ¸ì—ì„œ keyëŠ” ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸ë¼ ìˆì§€ ì•Šë”ë¼ë„ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ propsì´ë‹¤.
- propsê°€ ë³€ê²½ë˜ëŠ” ê²½ìš°: ë¶€ëª¨ë¡œë¶€í„° ì „ë‹¬ë°›ì€ ê°’ì¸ propsê°€ ë‹¬ë¼ì§€ë©´ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ë³€ê²½ì´ í•„ìš”í•˜ë¯€ë¡œ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚œë‹¤.
- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ê²½ìš°: ë‹¹ì—°í•œ ì–˜ê¸°ì§€ë§Œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ëœë‹¤ë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¹ì—°íˆ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚œë‹¤.


ìœ„ì— ì½”ë“œë¥¼ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ë„ë¡ ë°”ê¿”ë³´ì.
```javascript
function Component() {
  const [, triggerRender] = useState();

  let state = "hello";

  function handleButtonClick() {
    state = "hi";
    triggerRender();
  }

  return (
    <>
      <h1>{state}</h1>
      <button onClick={handleButtonClick}>hi</button>
    </>
  );
}
```
ë¦¬ë Œë”ë§ì€ ì •ìƒì ìœ¼ë¡œ ë°œìƒí•˜ì§€ë§Œ 
> í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°˜í™˜í•œ ê²°ê³¼ë¬¼ì¸ returnì˜ ê°’ì„ ë¹„êµí•´ ì‹¤í–‰ë˜ëŠ”ë°
ë§¤ë²ˆ ë Œë”ë§ì´ ë°œìƒë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ëŠ” ë‹¤ì‹œ ìƒˆë¡­ê²Œ ì‹¤í–‰ë˜ê³ , ìƒˆë¡­ê²Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì—ì„œ stateëŠ” ë§¤ë²ˆ helloë¡œ ì´ˆê¸°í™”ë¨
ë²„íŠ¼ í´ë¦­ì‹œ ê°•ì œë¡œ ë¦¬ëœë”ë§ì„ í•´ë„ stateëŠ” helloë¡œ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤. ë¦¬ë Œë”ë§ ë ë•Œ ë§ˆë‹¤ í•¨ìˆ˜ëŠ” ë§¤ë²ˆ ë‹¤ì‹œ ì‹¤í–‰ë˜ê³ , stateëŠ” ë§¤ë²ˆ ë‹¤ì‹œ helloë¡œ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì´ë‹¤.


### useState ë‚´ë¶€êµ¬í˜„
```javascript
const MyReact = function () {
  const global = {};
  let index = 0;

  function useState(initialState) {
    if (!global.states) {
      global.states = [];
    }
    // state ì •ë³´ë¥¼ ì¡°íšŒí•˜ì—¬ í˜„ì¬ ìƒíƒœê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ ,
    // ì—†ë‹¤ë©´ ì´ˆê¹ƒê°’ìœ¼ë¡œ ì„¤ì •í•œë‹¤.
    const currentState = global.states[index] || initialState;
    // stateì˜ ê°’ì„ ìœ„ì—ì„œ ì¡°íšŒí•œ í˜„ì¬ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.
    global.states[index] = currentState;

    // ì¦‰ì‹œ ì‹¤í–‰í•¨ìˆ˜ë¡œ setterë¥¼ ë§Œë“¦
    const setState = (function () {
      let currentIndex = index;
      return function (value) {
        global.states[currentIndex] = value;
      };
    })();
    // âœ¨useStateë¥¼ ì“¸ ë•Œë§ˆë‹¤ indexë¥¼ í•˜ë‚˜ì”© ì¶”ê°€í•œë‹¤. ì´ indexëŠ” setStateì—ì„œ ì‚¬ìš©ëœë‹¤.
    // âœ¨ì¦‰, í•˜ë‚˜ì˜ stateë§ˆë‹¤ í• ë‹¹ë¼ ìˆì–´ ê·¸ indexê°€ ë°°ì—´ì˜ ê°’ì„ ê°€ë¦¬í‚¤ê³  í•„ìš”í•  ë•Œë§ˆë‹¤ ê·¸ ê°’ì„ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.
    index = index + 1;

    return [currentState, setState];
  }

  // ì‹¤ì œ useStateë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
  function Component() {
    const [value, setValue] = useState(0);
    // ...
  }
};
```
- í•¨ìˆ˜ì˜ ì‹¤í–‰ì´ ëë‚¬ìŒì—ë„ í•¨ìˆ˜ê°€ ì„ ì–¸ëœ í™˜ê²½ì„ ê¸°ì–µí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ "í´ë¡œì €" ë•Œë¬¸ì— ê°€ëŠ¥í•œê±°ì„
- ì‹¤ì œ ë¦¬ì•¡íŠ¸ ì½”ë“œì—ì„œëŠ” useReducerë¥¼ ì´ìš©í•´ì„œ êµ¬í˜„ë˜ì–´ìˆë‹¤ëŠ” ì‚¬ì‹¤.
- ì˜ˆì œì˜ ê²½ìš° MyReactë¼ê³  ë¶ˆë¦¬ëŠ” í´ë¡œì € ë‚´ë¶€ì— useStateì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ ì €ì¥í•´ ë‘ê³ , ì´ë¥¼ í•„ìš”í•  ë•Œë§ˆë‹¤ êº¼ë‚´ë†“ëŠ” í˜•ì‹.


### ê²Œìœ¼ë¥¸ ì´ˆê¸°í™”

useStateì— ì›ì‹œê°’ì„ ë„˜ê¸°ëŠ” ê²ƒì´ ì•„ë‹Œ í•¨ìˆ˜ë¥¼ ë„˜ê¸°ëŠ” ê²ƒì„ ê²Œìœ¼ë¥¸ ì´ˆê¸°í™”(lazy initialization) ì´ë¼ê³  í•œë‹¤. ì´ˆê¹ƒê°’ì´ ë³µì¡í•˜ê±°ë‚˜ ë¬´ê±°ìš´ ì—°ì‚°ì„ í¬í•¨í•˜ê³  ìˆì„ ë•Œ ì‚¬ìš©í•¨.
```javascript
import { useState } from "react";

// ë¬´ê±°ìš´ ì—°ì‚°
function createInitialContents() {
  const initialContents = [];
  for (let i = 0; i < 50; i++) {
    initialContents.push({
      id: i,
      text: "Item " + (i + 1),
    });
  }
  return initialContents;
}

export default function List() {
  // ë¬´ê±°ìš´ ì—°ì‚°ì´ ë¦¬í„´í•´ì£¼ëŠ” ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ë¨!
  const [contents, setContents] = useState(createInitialContents);
  const [text, setText] = useState("");

  return (
    <>
      <input value={text} onChange={(e) => setText(e.target.value)} />
      <button
        onClick={() => {
          setText("");
          setContents([
            {
              id: contents.length,
              text: text,
            },
            ...contents,
          ]);
        }}
      >
        Add
      </button>
    </>
  );
}
```
í•¨ìˆ˜ ìì²´ë¥¼ ë„˜ê²¨ë„ ì´ˆê¸°ì—ë§Œ ë™ì‘í•˜ê³  ì´í›„ ë Œë”ë§ì—ëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
> ê²Œìœ¼ë¥¸ ì´ˆê¸°í™”ì— ëŒ€í•´ì„œëŠ” ì²˜ìŒ ì•Œê²Œë˜ì—ˆë‹¤. íŠ¹íˆ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ & ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í• ë•Œ ì´ ë°©ë²•ì„ ëª°ë¼ì„œ ë¶ˆí•„ìš”í•œ useEffectë¥¼ ì‘ì„±í•˜ëŠ” ê²½ìš°ê°€ ì¡´ì¬í–ˆìŒ. ì•ìœ¼ë¡œëŠ” ì´ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ ì‹¶ê³ , ë‚´ê°€ ê¸°ì¡´ì— ì‘ì„±í–ˆë˜ ì½”ë“œë“¤ì„ ìœ„ì— ë°©ì‹ìœ¼ë¡œ ë¦¬íŒ©í† ë§ í•˜ê³ ì‹¶ì—ˆë‹¤.

### ê°œì¸ì ìœ¼ë¡œ useStateì— ëŒ€í•´ì„œ ì•Œì•˜ë˜ ë‚´ìš©ë“¤
- useStateëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•œë‹¤.
  - useStateì˜ ë¹„ë™ê¸°ì ì¸ stateì—…ë°ì´íŠ¸ë¡œ ì¸í•´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë“¤ì´ ìš°ë¦¬ê°€ ì˜ë„í•œëŒ€ë¡œ ë™ì‘ì„ ì•ˆí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.
  ```javascript
    import React, { useState } from "react";

    function App() {
      const [toggle, setToggle] = useState(false);

      const onChange = () => {
        setToggle((toggle) => !toggle);
        
        if(toggle) {
          console.log('toggleì€ True');
        } else {
          console.log('toggleì€ False');
        }
      };

      return (
        <>
          <input type="checkbox" onChange={onChange} />
        </>
      );
    }
  ```
  
  ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ê°œë°œìê°€ ì›í•˜ëŠ” í˜•íƒœë¡œ ë™ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¨ì•¼í•œë‹¤.
  ```javascript
    import React, { useState, useEffect } from "react";

    function App() {
      const [toggle, setToggle] = useState(false);

      useEffect(() => {
        if(toggle) {
          console.log('toggleì€ True');
        } else {
          console.log('toggleì€ False');
        }
      }, [toggle])
      
      const onChange = () => {
        setToggle((toggle) => !toggle);
      };

      return (
        <>
          <input type="checkbox" onChange={onChange} />
        </>
      );
    }
  ```
- setStateë¥¼ í†µí•œ í™”ë©´ì˜ ë¦¬ë Œë”ë§ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•œë‹¤.
  - ê·¸ëŸ¬ë‚˜ íŠ¹ì • ìƒí™©ì—ì„œëŠ” ë™ê¸°ì ìœ¼ë¡œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•œë‹¤.
    1. react 18ë²„ì „ì—ì„œ ì¶”ê°€ëœ flushSyncë¥¼ ì‚¬ìš©í–ˆì„ ê²½ìš°.


<br />
<br />

## useEffect
### useEffectì˜ ì •ì˜
-----------------
ì •ì˜ì— ëŒ€í•´ ê°œë°œìë“¤ì´ ì¼ë°˜ì ìœ¼ë¡œ í•˜ëŠ” ë‹µë³€
- useEffectëŠ” ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ë°›ëŠ”ë°, ì²« ë²ˆì§¸ëŠ” ì½œë°±, ë‘ ë²ˆì§¸ëŠ” ì˜ì¡´ì„± ë°°ì—´ì´ë‹¤. ì´ ë‘ë²ˆì§¸ ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ì²« ë²ˆì§¸ ì¸ìˆ˜ì¸ ì½œë°±ì„ ì‹¤í–‰
- í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œì™€ ë¹„ìŠ·í•œ ì‘ë™ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë‘ ë²ˆì§¸ ì˜ì¡´ì„± ë°°ì—´ì— ë¹ˆ ë°°ì—´ì„ ë„£ìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰ëœë‹¤.
- useEffectëŠ” í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ”ë°, ì´ í´ë¦°ì—… í•¨ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰ëœë‹¤.
- ìœ„ì˜ ì •ì˜ëŠ” ì–´ëŠì •ë„ ë§ì§€ë§Œ ì™„ì „íˆ ì •í™•í•˜ì§„ ì•Šë‹¤. ë˜í•œ, ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ í›…ì´ ì•„ë‹ˆë‹¤.

> ì±…ì—ì„œ ë§í•˜ëŠ” ì •ì˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ì»´í¬ë„ŒíŠ¸ì˜ ì—¬ëŸ¬ ê°’ë“¤ì„ í™œìš©í•´ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë§Œë“œëŠ” ë§¤ì»¤ë‹ˆì¦˜

useEffectëŠ” ì˜µì €ë²„ ê°™ì€ íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ í†µí•´ ë³€í™”ë¥¼ ê´€ì¸¡í•˜ëŠ”ê²Œ ì•„ë‹˜! ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì˜ì¡´ì„±ì´ ìˆëŠ” ê°’ì„ ë³´ë©´ì„œ ì´ ì˜ì¡´ì„±ì˜ ê°’ì´ ì´ì „ê³¼ ë‹¤ë¥¸ê²Œ ìˆë‹¤ë©´ ë¶€ìˆ˜íš¨ê³¼ ë°œìƒ.

### í´ë¦°ì—… í•¨ìˆ˜ì˜ ëª©ì 
-----------------
```javascript 
// ìµœì´ˆ ì‹¤í–‰
useEffect(() => {
  function addMouseEvent() {
    console.log(1);
  }

  window.addEventListner("click", addMouseEvent);

  return () => {
    console.log("í´ë¦°ì—… í•¨ìˆ˜ ì‹¤í–‰!", 1); // 1ì´ ë“¤ì–´ê°
    window.removeEventListenr("click", addMouseEvent);
  };
}, [counter]);

// ë‹¤ìŒ ë Œë”ë§
useEffect(() => {
  function addMouseEvent() {
    console.log(2);
  }

  window.addEventListner("click", addMouseEvent);

  return () => {
    console.log("í´ë¦°ì—… í•¨ìˆ˜ ì‹¤í–‰!", 2); // 2ê°€ ë“¤ì–´ê°
    window.removeEventListenr("click", addMouseEvent);
  };
}, [counter]);
```
í´ë¦°ì—… í•¨ìˆ˜ëŠ” ìƒˆë¡œìš´ ê°’ê³¼ í•¨ê»˜ ë Œë”ë§ëœ ë’¤ì— ì‹¤í–‰ë˜ì§€ë§Œ ìƒˆë¡œìš´ ê°’ì„ ì½ëŠ” ê²ƒì´ ì•„ë‹Œ, í•¨ìˆ˜ê°€ ì •ì˜ëì„ ë‹¹ì‹œì— ì„ ì–¸ëë˜ ì´ì „ ê°’ì„ ë³´ê³  ì‹¤í–‰ëœë‹¤.

ë§Œì•½ ì—¬ê¸°ì„œ removeEventListenerë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šì•˜ìœ¼ë©´ ì´ë²¤íŠ¸ê°€ ë¬´í•œíˆ ë“±ë¡ë  ê²ƒì´ê¸°ì— í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤.

í´ë¦°ì—… í•¨ìˆ˜ëŠ” ì–¸ë§ˆìš´íŠ¸ì˜ ê°œë…ê³¼ëŠ” ë‹¤ë¥´ê³  ë§ ê·¸ëŒ€ë¡œ ì´ì „ ìƒíƒœë¥¼ ì²­ì†Œí•´ ì£¼ëŠ” ê°œë…ìœ¼ë¡œ ë³´ëŠ” ê²ƒì´ ë§ë‹¤.

### ì˜ì¡´ì„± ë°°ì—´

ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ë˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ì´ ì—†ëŠ” í˜•íƒœë¡œ ì‘ì„±í•˜ëŠ”ë° ê·¸ë ‡ë‹¤ë©´ ê·¸ëƒ¥ consoleì„ ì°ì–´ë„ ë˜ì§€ ì•Šì„ê¹Œ?
```javascript
function Component() {
	console.log('ë Œë”ë§ë¨');
}

function Component() {
	useEffect(() => {
		console.log('ë Œë”ë§ë¨');
	});
}
```
> ë‘ ì½”ë“œì˜ ì°¨ì´ì 
1. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ê´€ì ì—ì„œ useEffectëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥í•´ì¤€ë‹¤. window ê°ì²´ì˜ ì ‘ê·¼ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.
2. useEffectëŠ” ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì˜ ë¶€ìˆ˜ íš¨ê³¼, ì¦‰ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì´ ì™„ë£Œëœ ì´í›„ì— ì‹¤í–‰ëœë‹¤. ê·¸ëŸ¬ë‚˜ ì§ì ‘ ì‹¤í–‰ì€ ë Œë”ë§ë˜ëŠ” ë„ì¤‘ì— ì‹¤í–‰ë˜ê³ , ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì˜ ê²½ìš°ì— ì„œë²„ì—ì„œë„ ì‹¤í–‰ëœë‹¤. ë˜í•œ ë§Œì•½ ë¬´ê±°ìš´ ì‘ì—…ì„ í•  ê²½ìš° ë Œë”ë§ì„ ë°©í•´í•´ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.
### useEffectë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì 
-----------------
#### 1. eslint-disable-line, react-hooks/exhaustive-deps ì£¼ì„ì€ ìµœëŒ€í•œ ìì œí•˜ë¼

- ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨ë¼ ìˆì§€ ì•Šì€ ê°’ì´ ìˆì„ ë•Œ ë°œìƒì‹œí‚¤ëŠ” ESLint ì´ë‹¤.

- ë°˜ë“œì‹œ ì˜ì¡´ì„± ë°°ì—´ë¡œ ì „ë‹¬í•œ ê°’ì˜ ë³€ê²½ì— ì˜í•´ ì‹¤í–‰ë¼ì•¼ í•˜ëŠ” í›…ì´ë‹¤. ì˜ì¡´ì„± ë°°ì—´ì„ ëª¨ë‘ ì±„ìš°ì§€ ì•ŠëŠ”ë‹¤ë©´ useEffectì—ì„œ ì‚¬ìš©í•œ ì½œë°± í•¨ìˆ˜ì˜ ì‹¤í–‰ê³¼ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•œ ê°’ì˜ ì‹¤ì œ ë³€ê²½ ì‚¬ì´ì— ì—°ê²°ê³ ë¦¬ê°€ ëŠì–´ì§€ê²Œ ëœë‹¤.

#### 2. useEffectì˜ ì²« ë²ˆì§¸ ì¸ìˆ˜ì— í•¨ìˆ˜ëª…ì„ ë¶€ì—¬í•˜ë¼

useEffectì˜ ì½”ë“œê°€ ë³µì¡í•´ì§€ê³  ë¬´ìŠ¨ ì¼ì„ íŒŒì•…í•˜ê¸° ì–´ë ¤ì›Œì§€ë©´ ìµëª… í•¨ìˆ˜ê°€ ì•„ë‹Œ ê¸°ëª… í•¨ìˆ˜ë¡œ ë°”ê¾¸ëŠ” ê²ƒì´ ì¢‹ë‹¤.
```javascript
useEffct(
  function logActiveUser() {
    logging(user.id);
  },
  [user.id]
);
```
ëª©ì ì„ ëª…í™•íˆ í•˜ê³  ì±…ì„ì„ ìµœì†Œí•œìœ¼ë¡œ ì¢í ìˆ˜ ìˆê²Œ ëœë‹¤.
> ê°œì¸ì ìœ¼ë¡œ ì œì¼ í¥ë¯¸ë¡œì› ë˜ ë¶€ë¶„. useEffect í•¨ìˆ˜ì— ì €ë ‡ê²Œ ë„¤ì´ë°ì´ ë¶€ì—¬ê°€ëŠ¥í•œì§€ ëª°ëìŒ. íšŒì‚¬ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ìƒí™©ì´ ìˆì—ˆì„ë•Œ 4ê°œì •ë„ì˜ useEffectê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°ê°€ ìˆì—ˆëŠ”ë° ì´ë•Œ í•´ë‹¹ useEffectê°€ í•˜ëŠ” ì—­í• ì´ ë­”ì§€ ë¶„ì„í•˜ëŠ” ë¶ˆí•„ìš”í•œ ì‹œê°„ì´ ì†Œìš”ëì—ˆìŒ. ì´ëŸ° ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë„ë¡ ì•ìœ¼ë¡œ ìœ„ì—ì„œ ì†Œê°œí•´ì¤€ ë°©ë²•ì„ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•´ë³¼ ì˜ˆì •.

#### 3. ê±°ëŒ€í•œ useEffectë¥¼ ë§Œë“¤ì§€ ë§ˆë¼

ë Œë”ë§ ì‹œ ì˜ì¡´ì„±ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰í•˜ê¸°ì— í¬ê¸°ê°€ ì»¤ì§ˆìˆ˜ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¯¸ì¹œë‹¤. ë§Œì•½ ê±°ëŒ€í•œ useEffectë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤ë©´ ì‘ì€ ì˜ì¡´ì„± ë°°ì—´ì„ ì—¬ëŸ¬ê°œ ì‚¬ìš©í•˜ê²Œ ì“°ëŠ”ê²Œ ì¢‹ë‹¤.

#### 4. ë¶ˆí•„ìš”í•œ ì™¸ë¶€ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì§€ ë§ˆë¼
```javascript
// Bad
function Component({ id }: { id: string }) {
  const [info, setInfo] = useState<number | null>(null);
  const controllerRef = useRef<AbortController | null>(null);
  const fetchInformation = useCallback(async (fetchId: string) => {
    controllerRef.current?.abort();
    controllerRef.current = new AbortController();

    const result = await fetchInfo(fetchId, {
      sginal: controllerRef.signal,
    });
    setInfo(await result.json());
  }, []);

  useEffect(() => {
    fetchInformation(id);
    return () => controllerRef.current?.abort();
  }, [id, fetchInformation]);
}

// Good
function Component({ id }: { id: string }) {
  const [info, setInfo] = useState<number | null>(null);

  useEffect(() => {
    const controller = new AbortController();

    (async () => {
      const result = await fetchInfo(id, { sginal: controller.signal });
      setInfo(await result.json());
    })();

    return () => controller.abort();
  }, [id]);
}
```
useEffect ì™¸ë¶€ì— ë¶ˆí•„ìš”í•œ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•´ ê°€ë…ì„±ì´ ë§ì´ ë–¨ì–´ì¡Œë‹¤. useEffect ë‚´ë¶€ë¡œ ì˜®ê²¨ì„œ useCallbackë„ ì‚­ì œí•˜ì—¬ ê°€ë…ì„±ë„ ë†’ì˜€ë‹¤.
> useEffectë‚´ì— ì‚¬ìš©í•  ë¶€ìˆ˜ìš”ê³¼ë¼ë©´ ë‚´ë¶€ì—ì„œ ë§Œë“¤ì–´ ì •ì˜í•˜ëŠ” í¸ì´ í›¨ì”¬ ë„ì›€ë¨!

<br />
<br />

## useMemo
ë¹„ìš©ì´ í° ì—°ì‚°ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•´ë‘ê³  ì €ì¥ëœ ê°’ì„ ë°˜í™˜í•˜ëŠ” í›…ì´ë‹¤.
- ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ëì„ë•Œ, ì²«ë²ˆì§¸ ì¸ìˆ˜ì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ í›„ì— ê·¸ ê°’ì„ ë°˜í™˜í•˜ê³  ë‹¤ì‹œ ê¸°ì–µí•´ë‘”ë‹¤.
- ê°’ë¿ë§Œ ì•„ë‹ˆë¼ ì»´í¬ë„ŒíŠ¸ ë˜í•œ useMemoë¡œ ì €ì¥ì´ ê°€ëŠ¥í•˜ë‹¤.
```javascript
const Memoized = useMemo(() => <Components value={value />, [value])
// ê·¸ëƒ¥ ì´ëŸ´ê±°ë©´ React.memoì“°ì
```

<br />
<br />

## useCallback
ì¸ìˆ˜ë¡œ ë„˜ê²¨ë°›ì€ ì½œë°• ìì²´ë¥¼ ê¸°ì–µí•˜ëŠ” í›…ì´ë‹¤. íŠ¹ì • í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ë‹¤ì‹œ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. useMemoì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì—°ì‚°ì´ ë§ì€ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•´ë‘ëŠ” ìš©ë„ë¡œ ì‚¬ìš©.
```javascript
function App() {
  const [status, setStatus] = useState(false);

  // ì—¬ê¸°ì—ë„ ê¸°ëª… í•¨ìˆ˜ë¥¼ ì‚¬ìš©
  // ê°œë°œì ë„êµ¬ì—ì„œ ë””ë²„ê¹…ì„ í• ì‹œ ê¸°ëª… í•¨ìˆ˜ë¥¼ í†µí•´ ë””ë²„ê¹…ì´ ê°€ëŠ¥í•˜ê¸°ë•Œë¬¸.
  const handleToggle = useCallback(
    function toggle() {
      setStatus((prev) => !prev);
    },
    [status]
  );

  return <ChildComponent onChange={handleToggle} />;
}
```
ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ì´ì œ statusê°€ ë³€í•˜ì§€ ì•ŠëŠ” í•œ ì¬ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ë•Œ useMemoë¡œë„ useCallbackì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
```javascript
const toggle1 = useMemo(() => {
  return () => setStatus1(!status1);
}, [status1]);
```
ê°’ì„ ë°˜í™˜í•˜ëŠ” ëŒ€ì‹  í•¨ìˆ˜ ì„ ì–¸ë¬¸ì„ ë°˜í™˜í•˜ë©´ ë˜ëŠ”ë° ì´ëŠ” ì½”ë“œ ì‘ì„±ì— í˜¼ëˆì„ ì•¼ê¸°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë”°ë¡œ ì œê³µí•´ì£¼ëŠ” í›…ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. (ì—­í• ì€ ë˜‘ê°™ìŒ)

<br />
<br />

## useRef
### useRefë€?
-----------------
useRefëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë Œë”ë§ì´ ì¼ì–´ë‚˜ë„ ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœê°’ì„ ì €ì¥í•œë‹¤. ì´ë•Œ useStateì™€ ë‘ê°€ì§€ ì°¨ì´ì ì´ ìˆë‹¤.
1. useRefëŠ” ë°˜í™˜ê°’ì¸ ê°ì²´ ë‚´ë¶€ì— ìˆëŠ” currentë¡œ ê°’ì— ì ‘ê·¼ ë˜ëŠ” ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
2. useRef ê°’ì´ ë³€í•˜ë”ë¼ë„ ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.

ê°œë°œìê°€ ì›í•˜ëŠ” ì‹œì ì˜ ê°’ì„ ë Œë”ë§ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê³  ë³´ê´€í•´ ë‘ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. useStateê°€ êµ³ì´ í•„ìš”ì—†ëŠ” ìƒí™©ì´ ìˆëŠ”ë° ì´ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤ëŠ” ì‚¬ì‹¤!
```javascript
function usePrevious(value) {
  const ref = useRef();
  useEffect(() => {
    ref.current = value;
  }, []);

  return ref.current;
}

function SomeComponent() {
  const [counter, setCounter] = useState(0);
  const previousCounter = usePrevious(counter);

  function handleClick() {
    setCounter((prev) => prev + 1);
  }

  // 0 undefined
  // 1, 0
  // 2, 1
  return (
    <button onClick={handleClick}>
      {counter} {previousCounter}
    </button>
  );
}
```
ì´ì „ì˜ ê°’ì„ ìœ„ì²˜ëŸ¼ ê¸°ì–µí•˜ê³  ìˆì„ ìˆ˜ ìˆë‹¤.

useRefë¥¼ í™œìš©í•˜ì—¬ DOMì ‘ê·¼ì„ í•  ìˆ˜ ìˆëŠ”ë° ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
```javascript
function RefComponent() {
  const inputRef = useRef<HTMLInputElement>(null);
  return <input ref={inputRef} type="text" />
}
```
### ê°œì¸ì ìœ¼ë¡œ useRefì— ëŒ€í•´ì„œ ì•Œì•˜ë˜ ë‚´ìš©ë“¤
-------
ref callbackì´ë¼ëŠ”ê±¸ í™œìš©í•  ìˆ˜ ìˆëŠ”ë°, DOMì´ ê°€ì§€ê³ ìˆëŠ” refë¥¼ callbackìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ.
```javascript
// refì˜ íƒ€ì…ì€ HTMLDivElement | null
<div ref={(ref) => {ref.style.....}} />
```
ë°˜ë³µ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ëŠ” í™”ë©´ì— ëŒ€í•´ì„œ DOMì ‘ê·¼ì„ ì–´ë–»ê²Œ ì œì–´í•´ì•¼í• ì§€ì— ëŒ€í•´ì„œ ê³ ë¯¼ì„ í•´ë³¼ë•Œê°€ ìˆìŒ. ì´ë•Œ ìƒê°ë‚˜ëŠ” ë°©ì‹ì€ ì‚¬ì‹¤ document.getElementsByClassNameì´ë‹¤.

í—ˆë‚˜ ì´ë¥¼ useRefë¥¼ í™œìš©í•´ì„œë„ ì¶©ë¶„íˆ í•´ê²°ì´ ê°€ëŠ¥í•œë° useRefê°€ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì , DOMì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ì , ref callbackì„ í™œìš©í•˜ì—¬ ë°˜ë³µ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ëŠ” í™”ë©´ì—ëŒ€í•´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ DOMì ‘ê·¼ì„ í•  ìˆ˜ ìˆë‹¤.
```javascript
function Components() {
  const tabButtonRefs = React.useRef<(HTMLDivElement | null)[]>([]);
  const dragScrollRef = React.useRef<HTMLDivElement>(null);

  //í´ë¦­ëœ íƒ­ë²„íŠ¼ì˜ ìœ„ì¹˜ë¡œ ë“œë˜ê·¸ ìŠ¤í¬ë¡¤ í™”ë©´ì´ ì´ë™í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í•¨ìˆ˜.
  const handleClickPromotionTab = (id: number | null, index: number) => {
    if (!dragScrollRef.current) return;
    const targetRefOffsetLeft = tabButtonRefs.current[index]!.offsetLeft;
    const targetRefClientWidth = tabButtonRefs.current[index]!.clientWidth;

    dragScrollRef.current.scrollLeft =
      targetRefOffsetLeft - dragScrollRef.current.clientWidth / 2 + targetRefClientWidth / 2 - dragScrollRef.current.offsetLeft;
    setSelected(id);
    handleReplaceQueryParams(id);
  };

  return (
    <>
      {newData.map((element, index) => 
        <div
          className="category-button"
          ref={(ref) => (tabButtonRefs.current[index] = ref)}
          onClick={() => handleClickPromotionTab(element.id, index)}
        >
      )}
    </>
  );
}

```


> ğŸ¤”ì—¬ê¸°ì„œ ëŠ˜ ë“¤ì—ˆë˜ ì˜ë¬¸ì . useRefë¥¼ í†µí•œ DOMì ‘ê·¼ ë°©ì‹ì´ document.getElementById()ì™€ ê°™ì´ ê¸°ì¡´ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©ë˜ë˜ ë°©ì‹ê³¼ì˜ ì°¨ë³„ì ì€ ë¬´ì—‡ì¸ì§€? 

<br />
<br />


## useContect
### Context ë€?
-------
ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ë¶€ëª¨ê°€ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°ë¥¼ ìì‹ì—ê²Œë„ ë„˜ê²¨ì£¼ë ¤ë©´ propsê°€ ê°€ì¥ ì¼ë°˜ì ì´ë‹¤. ë§Œì•½ ìì‹ì˜ ê¹Šì´ê°€ ë§¤ìš° ê¹Šë‹¤ë©´ propsë¡œ í•„ìš”í•œ ìœ„ì¹˜ê¹Œì§€ ê³„ì† ë‚´ë ¤ì¤˜ì•¼ í•˜ëŠ” props drillingì´ ë°œìƒí•¨.

ë‹¨ìˆœíˆ ê°’ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ propsë¥¼ ë°›ê³  ì‚¬ìš©í•˜ëŠ”ê²Œ ë§¤ìš° ë²ˆê±°ë¡œì›Œ ì§„ë‹¤.
ì´ëŸ¬í•œ ê´€ì ì—ì„œ ë‚˜ì˜¤ê²Œëœ ê°œë…ì´ ì½˜í…ìŠ¤íŠ¸ì´ê³  í›…ì˜ í˜•íƒœë¡œ ì‚¬ìš©ë„ ê°€ëŠ¥í•˜ë‹¤.
### Contextë¥¼ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” useContext
-------
```javascript
function ContextProvider({ children, text }: PropsWithChildren<{ text: string }>) {
	return <MyContext.Provider value={{ hello: text}}>{children}</MyContext.Provider>
}

function useMyContext() {
	const context = useContext(MyContext)
	if (context === undefined) {
		throw new Error('useMyContextëŠ” ContextProvider ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤');
	}
	return context;
}

function ChildComponent() {
	const { hello } = useMyContext()

	return <>{hello}</>
}

function ParentComponent() {
	return (
    <>
      <ContextProvider text="react">
        <ChildComponent />
      </ContextProvider>
    </>
  );
}
```
ì½˜í…ìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ í•´ë‹¹ ì½˜í…ìŠ¤íŠ¸ê°€ ì¡´ì¬í•˜ëŠ” í™˜ê²½ì¸ì§€ ì²´í¬í•´ì£¼ì–´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì…ì¶”ë¡ ê¹Œì§€ ëª…í™•í•˜ê²Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤. ìƒìœ„ì— Providerê°€ ì—†ë‹¤ë©´ ì‚¬ì „ì— ì‰½ê²Œ ì—ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ë„ ìˆë‹¤!

### useContextë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì 
-------
- useContextê°€ ì„ ì–¸ë¼ ìˆìœ¼ë©´ Providerì— ì˜ì¡´ì„±ì„ ê°€ì§€ê³  ìˆê²Œ ë˜ì–´ ì¬í™œìš©ì´ ì–´ë ¤ìš´ ì»´í¬ë„ŒíŠ¸ê°€ ëœë‹¤. ì»¨í…ìŠ¤íŠ¸ê°€ ë¯¸ì¹˜ëŠ” ë²”ìœ„ëŠ” í•„ìš”í•œ í™˜ê²½ì—ì„œ ìµœëŒ€í•œ ì¢ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

- ê·¸ë¦¬ê³  ìƒíƒœê´€ë¦¬ë¥¼ ìœ„í•œ ë¦¬ì•¡íŠ¸ì˜ APIë¡œ ì˜¤í•´í•˜ê³  ìˆëŠ”ë° ë‹¨ìˆœíˆ ìƒíƒœë¥¼ ì£¼ì…í•´ì£¼ëŠ” APIë¡œ ë´ì•¼í•œë‹¤.

- ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë˜ê¸° ìœ„í•œ ì¡°ê±´ì„ ì‚´í´ë³´ë©´
  1. ì–´ë– í•œ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥¸ ìƒíƒœë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
  2. í•„ìš”ì— ë”°ë¼ ì´ëŸ¬í•œ ìƒíƒœ ë³€í™”ë¥¼ ìµœì í™”í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
  > ContextëŠ” ë‘˜ ì¤‘ í•˜ë‚˜ë„ í•˜ì§€ ëª»í•˜ê¸°ì— ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹ˆë‹¤.

- useContextê°€ ë Œë”ë§ ìµœì í™”ë¥¼ í•˜ì§„ëª»í•˜ëŠ”ë° useContextë¥¼ ì‚¬ìš©í• ì‹œì— ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ ë¦¬ë Œë”ë§ ë°œìƒì„ ë§‰ì§€ëŠ” ëª»í•˜ê¸° ë•Œë¬¸.
  - ì´ë¥¼ ë§‰ê¸° ìœ„í•´ì„  React.memoë¥¼ ì‚¬ìš©í•´ì•¼í•¨.
  - ë¦¬ë Œë”ë§ì„ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ìƒí™©ì´ë¼ë©´ useContextë¥¼ ì“°ëŠ”ê²Œ ì¢‹ì„ì§€ë„?

<br />
<br />

## useReducer
useStateì˜ ì‹¬í™”ë²„ì „ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆì§€ë§Œ ë³µì¡í•œ ìƒíƒœê°’ì„ ë¯¸ë¦¬ ì •í•´ë†“ì€ ì‹œë‚˜ë¦¬ì˜¤ì— ë”°ë¼ ê´€ë¦¬í•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.

### useReducerì˜ ë°˜í™˜ ê°’
-------
- state: í˜„ì¬ useReducer ê°€ ê°€ì§€ê³  ìˆëŠ” ê°’
- dispatcher: stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜. stateë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ì•¡ì…˜ì„ ë„˜ê¸°ê²Œ ëœë‹¤.
### useReducerì˜ ì¸ìˆ˜
-------
- reducer: ê¸°ë³¸ actionì„ ì •ì˜í•˜ëŠ” í•¨ìˆ˜
- initialState: useReducerì˜ ì´ˆê¹ƒê°’ì„ ì˜ë¯¸
- init: useStateì˜ ê²Œìœ¼ë¥¸ ì´ˆê¸°í™” ì²˜ëŸ¼ ì´ˆê¹ƒê°’ì„ ì§€ì—°í•´ì„œ ìƒì„±ì‹œí‚¤ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
> ìƒê¹€ìƒˆê°€ ë¬´ì²™ì´ë‹¤ reduxì™€ ë¹„ìŠ·í•˜ê²Œ ìƒê²¼ë‹¤ê³  ìƒê°í–ˆìŒ. reducer, state, action, dispatchê¹Œì§€...! storeë¼ëŠ” ê°œë…ì´ ì—†ë‹¤ëŠ”ê±°ë¹¼ê³¤ ì™„ì „ ë˜‘ê°™ìŒ.
### useReducerë¡œ useState êµ¬í˜„í•˜ê¸°
-------
```javascript
function reducer(prevState, newState) {
  return typeof newState === "function" ? newState(prevState) : newState;
}

// ì´ˆê¸°ê°’ ì²˜ë¦¬
function init(initialArg: Initializer) {
  return typeof initialArg === "function" ? initialArg() : initialArg;
}

function useState(initialArg) {
  return useReducer(reducer, initialArg, init);
}
```

### useStateë¡œ useReducer êµ¬í˜„í•˜ê¸°
-------
```javascript
const useReducer = (reducer, initialArg, init) => {
  const [state, setState] = useState(init ? () => init(initialArg) : initialArg);

  // dispatch í•¨ìˆ˜ ì„ ì–¸
  const dispatch = useCallback((action) => setState((prev) => reducer(prev, action)), [reducer]);

  return useMemo(() => [state, dispatch], [state, dispatch]);
};
```
ì´ì•¼ê¸°ì˜ ìš”ì ì€ ë‘˜ë‹¤ í´ë¡œì €ë¥¼ í™œìš©í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤ë¼ëŠ” ì !
### ê°œì¸ì ìœ¼ë¡œ useReducerë¥¼ í™œìš©í–ˆë˜ ìƒí™©ë“¤
- ìƒíƒœë³€í™”ê°€ ë§ì´ ì¼ì–´ë‚˜ê¸°ì— dispatchë¥¼ í†µí•´ ê°„ë‹¨ëª…ë£Œí•˜ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì‹¶ì„ë•Œ
  - ex) ë³µì¡í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ìƒíƒœë¡œ ê´€ë¦¬í•˜ëŠ”ë° ì´ ì •ë³´ê°€ ë°”ë€ŒëŠ” ë¹ˆë„ìˆ˜ê°€ ë§ë‹¤ë©´? >> useReducerë¡œ ê´€ë¦¬í•˜ëŠ”ê²Œ ìœ ë¦¬í• ë“¯.

<br />
<br />

## useImperativeHandle
useImperativeHandleì„ ì´í•´í•˜ê¸° ìœ„í•´ forwardRefë¥¼ ë¨¼ì € ì•Œì•„ì•¼ í•œë‹¤.

### forwardRef ì‚´í´ë³´ê¸°
ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ refë¥¼ ì „ë‹¬í•˜ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•œë‹¤. ë¬¼ë¡  propsë¥¼ í†µí•´ì„œë„ refë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆì§€ë§Œ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” forwardRefë¥¼ ë§Œë“¤ì—ˆë‹¤.

ë„¤ì´ë°ì˜ ììœ ê°€ ì£¼ì–´ì§„ propsë³´ë‹¤ëŠ” forwardRefë¥¼ ì‚¬ìš©í•˜ë©´ ì¢€ ë” í™•ì‹¤í•˜ê²Œ refë¥¼ ì „ë‹¬í•  ê²ƒì„ì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆê³  ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ë°›ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
```javascript
const ChildComponent = forwardRef(
  (props, ref) => {
    return <div>ì•ˆë…•!</div>;
  },
  [ref]
);

function ParentComponent() {
  const inputRef = useRef();

  return (
    <>
      <input ref={inputRef} />
      <ChildComponent ref={inputRef} />
    </>
  );
}
```
refë¥¼ ì‚¬ìš©í•´ì„œ propsë¥¼ ë°›ê³  ì“¸ ìˆ˜ ìˆê²Œ ë˜ì–´ ì¡°ê¸ˆ ë” ì§ê´€ì ì¸ ë°©ë²•ìœ¼ë¡œ refë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

### useImperativeHandle ë€?

ë¶€ëª¨ì—ê²Œì„œ ë„˜ê²¨ë°›ì€ refë¥¼ ì›í•˜ëŠ”ëŒ€ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í›…ì´ë‹¤.
```javascript
const Input = forwardRef((props, ref) => {
  useImperativeHandle(ref, () => ({ alert: () => alert(props.value) }), [props.value])

	return <input ref={ref} {...props} />
})

function App() {
	const inputRef = useRef();

	const handleClick() {
		inputRef.current.alert()
	}

	return <>
		<input ref={inputRef} />
		<button onClick={handleClick} />
	</>
}
```
forwardRefì—ì„œ useImperativeHandleì•ˆì— ì„ ì–¸í•œ alertí•¨ìˆ˜ë¥¼ í†µí•´ alertì„ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ëœë‹¤.
### ê°œì¸ì ìœ¼ë¡œ useImperativeHandleì„ í™œìš©í–ˆë˜ ìƒí™©ë“¤
------------------
ë¦¬ì•¡íŠ¸ í›…í¼ì„ ì‚¬ìš©í• ë•Œ registerë¥¼ í™œìš©í•˜ëŠ” ìƒí™©ì—ì„œ useRefì™€ refë¥¼ ê³µìœ í•´ì•¼í•˜ëŠ” ìƒí™©ì´ ì¡´ì¬í–ˆìŒ.
```javascript
export default function ChatBotInput({ onSubmit, isLoading, handleReset, scrollToBottom }: IChatBotInput) {
  // textareaì˜ refë¥¼ í™œìš©í•˜ì—¬ textareaì˜ ë†’ì´ê°’ì„ í•„ìš”í•œ ìˆœê°„ì— ê°€ì ¸ì˜¤ê³  ì‹¶ì—ˆìŒ.
  const textareaRef = React.useRef<HTMLTextAreaElement>(null);

  // textareaì˜ ìœ íš¨ì„±ê²€ì‚¬ì™€ ë”ë¶ˆì–´ì„œ ê°„í¸í•œ ìƒíƒœê´€ë¦¬ë¥¼ ìœ„í•´ useFormContextë¥¼ ì¨ì•¼í•˜ëŠ” ìƒí™©.
  const {
    formState: { errors },
    register,
    handleSubmit,
  } = useFormContext<{ message: string }>();

  // textareaì˜ refë¥¼ ì–´ë–»ê²Œ ì¤˜ì•¼í• ê¹Œ...ã…œ >> registerì˜ refì™€ textareaRefì˜ refê°€ ê²¹ì¹˜ëŠ” ìƒí™©. >> refë¥¼ ê³µìœ í•˜ì!
  return (
    <motion.form>
      <textarea
        rows={1}
        maxLength={200}
        disabled={isLoading}
        id="message"
        onKeyDown={handleTextareaChange}
        onKeyUp={handleTextareaChange}
        onFocus={handleFocusInput}
      />
    </motion.form>
  );
}
```
ì´ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ useImperativeHandleì„ í†µí•´ react-hook-formì—ì„œ ì œê³µì¤‘ì¸ registerì˜ refë¥¼ ì»¤ìŠ¤í…€í•˜ë©´ ë¬¸ì œë¥¼ í•´ê²°ê°€ëŠ¥!

```javascript
export default function ChatBotInput({ onSubmit, isLoading, handleReset, scrollToBottom }: IChatBotInput) {
  const textareaRef = React.useRef<HTMLTextAreaElement>(null);

  const {
    formState: { errors },
    register,
    handleSubmit,
  } = useFormContext<{ message: string }>();

  useImperativeHandle(ref, () => textareaRef.current);

  return (
    <motion.form>
      <textarea
        rows={1}
        maxLength={200}
        disabled={isLoading}
        ref={textareaRef}
        id="message"
        onKeyDown={handleTextareaChange}
        onKeyUp={handleTextareaChange}
        onFocus={handleFocusInput}
        {...rest}
      />
    </motion.form>
  );
}
```
<br />
<br />

## useLayoutEffect
useEffectì™€ ë™ì¼í•˜ë‚˜, ëª¨ë“  ë”ì´ ë³€ê²½ëœ í›„ì— ë™ê¸°ì ìœ¼ë¡œ ë°œìƒí•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.

### ì‹¤í–‰ ìˆœì„œ

1. ë¦¬ì•¡íŠ¸ê°€ DOMì„ ì—…ë°ì´íŠ¸
2. useLayoutEffectë¥¼ ì‹¤í–‰
3. ë¸Œë¼ìš°ì €ì— ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜
4. useEffectë¥¼ ì‹¤í–‰
5. ë™ê¸°ì ìœ¼ë¡œ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ê°€ ì ì‹œ ë™ì•ˆ ì¼ì‹œ ì¤‘ì§€ë˜ëŠ” ê²ƒê³¼ ê°™ì€ ì¼ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.

ë”°ë¼ì„œ DOMì€ ê³„ì‚°ëì§€ë§Œ ì´ê²ƒì´ í™”ë©´ì— ë°˜ì˜ë˜ê¸° ì „ì— í•˜ê³  ì‹¶ì€ ì‘ì—…ì´ ìˆì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

### ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì—ì„œëŠ”?
- Next.js ì‚¬ìš©ì‹œì— useLayoutEffectë¥¼ ì‚¬ìš©ì‹œ ê°„í˜¹ê°€ë‹¤ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ë§ˆì£¼í•  ìˆ˜ ìˆìŒ.
  > Warning: useLayoutEffect does nothing on the server, because its effect cannot be encoded into the server renderer's output format. This will lead to a mismatch between the initial, non-hydrated UI and the intended UI. To avoid this, useLayoutEffect should only be used in components that render exclusively on the client. See https://reactjs.org/link/uselayouteffect-ssr for common fixes.

  - ì„œë²„ì—ì„œ ì•„ë¬´ ì‘ì—…ë„ ìˆ˜í–‰í•˜ì§€ ëª»í•˜ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ëœë”ë§ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš©ë¼ëŠ” ê²½ê³ ë¬¸êµ¬.

  - ì§€ì—° ë Œë”ë§ì„ í•˜ê±°ë‚˜, í˜¹ì€ ê·¸ëƒ¥ useEffectë¥¼ ì“°ì!

<br />
<br />

## useDebugValue
ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ê³¼ì •ì—ì„œ ì‚¬ìš©ë˜ëŠ”ë°, ë””ë²„ê¹…í•˜ê³  ì‹¶ì€ ì •ë³´ë¥¼ ì´ í›…ì—ë‹¤ ì‚¬ìš©í•˜ë©´ ë¦¬ì•¡íŠ¸ ê°œë°œì ë„êµ¬ì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤.
```javascript
function useDate() {
  const date = new Date();
  useDebugValue(date, (date) => `í˜„ì¬ ì‹œê°„: ${date.toISOString()}`);

  return date;
}

function App() {
  const date = useDate();

  // ìƒëµ
}
```
ê°œë°œì ë„êµ¬ì—ì„œ dateê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ í˜¸ì¶œë˜ì–´ í¬ë©§íŒ…ëœ ê°’ì´ ì°íˆëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

## í›…ì˜ ê·œì¹™
ìµœìƒìœ„ì—ì„œë§Œ í›…ì„ í˜¸ì¶œí•´ì•¼ í•œë‹¤. ë°˜ë³µë¬¸ì´ë‚˜ ì¡°ê±´ë¬¸, ì¤‘ì²©ëœ í•¨ìˆ˜ ë‚´ì—ì„œ í›…ì„ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤.
í›…ì„ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì„ ë¦¬ì•¡íŠ¸ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸, ì‚¬ìš©ì ì •ì˜ í›…ì˜ ë‘ê°€ì§€ ê²½ìš°ë§Œ ìˆë‹¤.
> ì¡°ê±´ë¬¸, ë£¨í”„ë‚´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í›…: https://react.dev/reference/react/use

ë¦¬ì•¡íŠ¸ í›…ì€ íŒŒì´ë²„ ê°ì²´ì˜ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì˜ í˜¸ì¶œ ìˆœì„œì— ë”°ë¼ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ìˆœì„œë¥¼ ë³´ì¥ë°›ë„ë¡ ì½”ë“œê°€ ì§œì—¬ì ¸ì•¼ í•œë‹¤. (ì¡°ê±´ë¬¸ ë‚´ì— ìˆìœ¼ë©´ ì•ˆë¨)

# 2ï¸âƒ£ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ì¤‘ ë¬´ì—‡ì„ ì¨ì•¼ í• ê¹Œ?
## ì‚¬ìš©ì ì •ì˜ í›…
ì„œë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê°™ì€ ë¡œì§ì„ ê³µìœ í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒ
```javascript
function useOnlineChecker() {
  const [isOnline, setIsOnline] = React.useState(true);

  const handleOnline = () => {
    setIsOnline(true);
  }

  const handleOffline = () => {
    setIsOnline(false);
  }

  React.useEffect(function applyOnlineEvent() {
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);
    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  return isOnline;
}
```
ë³µì¡í•˜ê³  ë°˜ë³µë˜ëŠ” ë¡œì§ì€ ì‚¬ìš©ì ì •ì˜ í›…ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ì„œ ì†ì‰½ê²Œ ì¤‘ë³µë˜ëŠ” ë¡œì§ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

useë¼ëŠ” ì´ë¦„ì„ ì§€í‚¤ì§€ ì•ŠëŠ”ë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
<br />
<br />

## ê³ ì°¨ ì»´í¬ë„ŒíŠ¸
ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(HOC, Higher Order Component) ëŠ” ì»´í¬ë„ŒíŠ¸ ìì²´ì˜ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œ ê°€ì¥ ìœ ëª…í•œ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” React.memoë‹¤.

### ê³ ì°¨ í•¨ìˆ˜ ë§Œë“¤ì–´ë³´ê¸°
-----------------
ë¦¬ì•¡íŠ¸ì˜ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë„ ê²°êµ­ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê³ ì°¨ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ë¨¼ì € ì´í•´í•´ì•¼ í•œë‹¤.
```javascript
const setState = (function () {
  let currentIndex = index;

  return function (value) {
    global.states[currentInex] = value;
  };
})();
```
useStateì—ì„œ ë°˜í™˜ëœ ë‘ ë²ˆì§¸ ë°°ì—´ì˜ ê°’ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ”ë° ì´ê²ƒë„ ê³ ì°¨ í•¨ìˆ˜ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.
```javascript
function add(a) {
  return function (b) {
    return a + b;
  };
}
const result = add(1); // resultëŠ” ë°˜í™˜í•œ í•¨ìˆ˜ê°€ ëœë‹¤.
const result2 = result(2); // ë°˜í™˜í•œ í•¨ìˆ˜ì— 1(a), 2(b)ê°€ í•©ì³ì ¸ 3ì´ ë°˜í™˜ëœë‹¤.
```
a = 1ì´ë¼ëŠ” ì •ë³´ê°€ ë‹´ê¸´ í´ë¡œì €ê°€ resultì— í¬í•¨ëê³  result(2)ê°€ í˜¸ì¶œí•˜ë©´ì„œ í´ë¡œì €ë¥¼ í™œìš©í•´ ê²°ê³¼ê°€ 3ì´ ë°˜í™˜ëœë‹¤.
### ê³ ì°¨ í•¨ìˆ˜ë¥¼ í™œìš©í•œ ë¦¬ì•¡íŠ¸ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ì–´ë³´ê¸°
-----------------
ê³ ì°¨ í•¨ìˆ˜ì˜ íŠ¹ì§•ì— ë”°ë¼ ê°œë°œìê°€ ë§Œë“  ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ í™œìš©í•´ë³´ì. ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ ì¸ì¦ ì •ë³´ì— ë”°ë¼ ë³„ë„ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ê·¸ë ¤ì£¼ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆìŒ.
```javascript
function withLoginComponent<T>(Component: ComponentType<T>) {
  return function (props: T & LoginProps) {
    const { loginRequired, ...restProps } = props;

    if (loginRequired) {
      return "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.";
    }
  };

  return <Component {...(restProps as T)} />;
}

const Component = withLoginComponent((props: { value: string }) => {
  return <h3>{props.value}</h3>;
});

function App() {
  const isLogin = true;

  return <Component value="text" loginRequired={isLogin} />;
}
```
withLoginComponent ëŠ” í•¨ìˆ˜(í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸)ë¥¼ ì¸ìˆ˜ë¡œ ë°›ì•„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ì´ë‹¤. 
> ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê²°ê³¼ë¬¼ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ê³µí†µëœ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ë‹¤ë¥´ê²Œ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” withë¡œ ì‹œì‘í•˜ëŠ” ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

### ì£¼ì˜í•  ì 

ë¶€ìˆ˜íš¨ê³¼ë¥¼ ìµœì†Œí™”í•´ì•¼ í•œë‹¤. ë°˜ë“œì‹œ ì»´í¬ë„ŒíŠ¸ì˜ propsë¥¼ ì„ì˜ë¡œ ìˆ˜ì •, ì¶”ê°€, ì‚­ì œí•˜ëŠ” ì¼ì€ ì—†ì–´ì•¼ í•œë‹¤.
ì—¬ëŸ¬ ê°œì˜ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ìŒ€ ê²½ìš° ë³µì¡ì„±ì´ ì»¤ì§„ë‹¤.
ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” ìµœì†Œí•œìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.


## ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ì¤‘ ë¬´ì—‡ì„ ì¨ì•¼ í• ê¹Œ?

### ì‚¬ìš©ì ì •ì˜ í›…ì´ í•„ìš”í•œ ê²½ìš°
----------------------
useEffect, useStateì™€ ê°™ì´ ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µë˜ëŠ” í›…ìœ¼ë¡œë§Œ ê³µí†µ ë¡œì§ì„ ê²©ë¦¬í•  ìˆ˜ ìˆë‹¤ë©´ ì‚¬ìš©ì ì •ì˜ í›…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì‚¬ìš©ì ì •ì˜ í›…ë§Œìœ¼ë¡œëŠ” ë Œë”ë§ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ëª»í•˜ê¸°ì— ë°˜í™˜ë˜ëŠ” ê°’ìœ¼ë¡œ ë¬´ì—‡ì„ í• ì§€ëŠ” ê°œë°œìì—ê²Œ ë‹¬ë ¤ìˆë‹¤.

ë”°ë¼ì„œ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•´ ê°œë°œìê°€ í›…ì„ ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.
```javascript
// ì‚¬ìš©ì ì •ì˜ í›…
function HookComponent() {
  const { loggedIn } = useLogin();

  useEffect(() => {
    if (!loggedIn) {
      // do something...
    }
  }, [loggedIn]);
}

// ê³ ì°¨ ì»´í¬ë„ŒíŠ¸
const HOCComponent = withLoginComponent(() => {});
```
- ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° ì‚¬ìš©ì ì •ì˜ í›…ì— ë¹„í•´ ì˜ˆì¸¡í•˜ê¸°ê°€ ì–´ë µë‹¤. 
- ë”°ë¼ì„œ ë‹¨ìˆœíˆ ì»´í¬ë„ŒíŠ¸ ì „ë°˜ì— ê±¸ì³ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ê°’ì„ ì œê³µí•˜ê±°ë‚˜ íŠ¹ì •í•œ í›…ì˜ ì‘ë™ì„ ì·¨í•˜ê²Œ í•˜ê³ ì‹¶ë‹¤ë©´ ì‚¬ìš©ì í›…ì„ ì‚¬ìš©í•˜ì.

### ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°
----------------------
ë§Œì•½ ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¥¼ ë…¸ì¶œí•˜ëŠ” ê²ƒì´ ì¢‹ê±°ë‚˜ ì—ëŸ¬ ë°”ìš´ë”ë¦¬ì™€ ë¹„ìŠ·í•˜ê²Œ ì–´ë–¤ íŠ¹ì •ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ì—ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë…¸ì¶œì‹œí‚¤ê³  ì‹¶ì„ ê²½ìš°ì—” ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
```javascript
// ì‚¬ìš©ì ì •ì˜ í›…
function HookComponent() {
  const { loggedIn } = useLogin();

  if (!loggedIn) {
    return <LoginComponent />; // ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë…¸ì¶œ
  }
  return "ì•ˆë…•í•˜ì„¸ìš”";
}

// ê³ ì°¨ ì»´í¬ë„ŒíŠ¸
const HOCComponent = withLoginComponent(() => {
  return "ì•ˆë…•í•˜ì„¸ìš”";
});
```
ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ê²½ìš° loggedInì˜ ìƒíƒœë¥¼ ì¸ì§€í•  í•„ìš”ì—†ì´ ê³µí†µí™”ëœ ë Œë”ë§ ë¡œì§ì„ ì²˜ë¦¬ëœ HOCë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.