# 핵심 웹 지표

웹사이트에서 뛰어난 사용자 경험을 제공하는 데 필수적인 지표

### 구글에서 꼽은 핵심 웹 지표

#### 1. 최대 콘텐츠풀 페인트 (LCP: Largest Contentful Paint)

- 페이지가 처음으로 로드를 시작한 시점부터 뷰포트 내부에서 가장 큰 이미지 또는 텍스트(ex. img, video, url 등)를 렌더링하는 데 걸리는 시간
- 뷰포트 내부 요소만 고려됨
- 개선 방안 : 텍스트 > img, video > url, svg내부 img
- 주의 사항

  - 최소한의 용량으로 압축된 이미지 사용
  - loading=lazy 사용 시 최대 콘텐츠풀 이미지에는 사용하지 않는 것이 좋음
  - fadeIn 등의 애니메이션 주의
  - 클라이언트에서 빌드하지 말기
  - 최대 콘텐츠풀 리소스는 같은 도메인에 호스팅하기

#### 2. 최소 입력 지연 (FID: First Input Delay)

- 웹사이트의 반응성을 측정하는 지표
- 구글이 정의한 사용자 경험 RAIL (Response, Animation, idle, Load) 중 R에 해당하는 응답에 초점
- 최초 이벤트 발생으로부터 해당 이벤트 핸들러가 실행되는 순간까지의 기간 측정
- 개선 방안 : 긴 작업 분리, js코드 최소화 (지연 로딩 등 이용), 타사 js코드 실행의 지연을 줄이기 위해 '\<script>' 의 async, defer 이용

#### 3. 누적 레이아웃 이동(CLS: Cumulative Layout Shift)

- 페이지의 생명주기 동안 발생하는 모든 예기치 않은 이동에 대한 지표를 계산하는 것
- 뷰포드 내부의 요소만 측정, 사용자 액션으로 인한 레이아웃 이동은 포함되지 않음

- 개선 방안

  - 삽입이 예상되는 요소를 위한 추가적인 공간 확보 (ex. 스켈레톤 UI, 서버사이드렌더링)
  - 폰트 로딩 최적화 (FOUT, FOIT 문제 해결)
  - 적절한 이미지 크기 설정 (ex. aspect-ratio 속성 사용)

### 핵심은 아니지만 특정 문제 진단에 사용될 수 있는 지표

#### 1. 최소 바이트까지의 시간 (TTFB: Time To First Byte)

- 브라우저가 웹페이지의 첫 번째 바이트를 수신하는 데 걸리는 시간
- 개선 방안

  - 서버사이드렌더링 수행 시 로직을 최적화해 페이지를 최대한 빨리 준비시키기
  - 서버의 위치를 방문객과 가깝게
  - 리액트의 스트리밍 API

#### 2. 최소 콘텐츠풀 시간 (FCP: First Contentful Paint)

- 페이지가 로드되기 시작한 시점부터 페이지 콘텐츠의 일부가 화면에 렌더링될 때까지의 시간

- 개선 방안

  - 렌더링을 가로막는 리소스 최소화 (방해하는 리소스를 비동기적으로 가져오기)
  - Above the Fold 최적화 - 스크롤을 하지 않아도 보이는 영역에 대한 최적화
  - 페이지 리다이렉트 최소화
  - DOM 크기 최소화 (html 줄이기)
