# **Chapter-11 Next.js 13과 리액트 18**
Next.js 13에서 만들어낸 변화와 이를 어떻게 A 변경하고 개선해 나갈 수 있는지 보기

## **11.1 app 디렉터리의 등장**
레이아웃의 한계를 극복하기 위해 나온 것이 Next.js의 app 레이아웃

- 이전의 Next.js 12 버전까지는 페이지 공통 레이아웃을 유지할 수 있는 방법은 _app이 유일
  - 그러나 이 방식은 _app 에서밖에 할 수 없어 제한적
  - 각 페이지별로 서로 다른 레이아웃을 유지할 수 있는 여지 부족

## Table of contents
- 
- 


## 라우팅

### 라우팅을 정의하는 법
기본적으로 Next.js의 라우팅은 파일 시스템을 기반
- 이 원칙은 Next.js가 처음 나온 6년 전부터 지금까지 유효
- 이번에 등장한 새로운 app 기반 라우팅 시스템은 기존에 /pages를 사용했던 것과 비슷하지만 약간의 차이가 있음

Next.js 12 이하: /pages/a/b.tsx 또는 /pages/a/b/index.tsx는 모두 동일한 주소로 변환됨. 즉, 파일명이 index라면 이 내용은 무시.

Next.js 13 app: /app/a/b는 /a/b로 변환되며, 파일명은 무시됨. 폴더명까지만 주소로 변환.

즉, Next.js 13의 app 디렉터리 내부의 파일명은 라우팅 명칭에 아무런 영향을 미치지 못합니다. 이 app 내부에서 가질 수 있는 파일명은 뒤이어 설명할 예약어로 제한됩니다.

### layout.js

Next.js 13부터는 app 디렉터리 내부의 폴더명이 라우팅이 되며, 이 폴더에 포함될 수 있는 파일명은 몇 가지로 제한됨. 
- 그중 하나가 layout.js
- layout.js 파일은 이름에서 알 수 있는 것처럼 페이지의 기본적인 레이아웃을 구성하는 요소
- 해당 폴더에 layout.js가 있다면 그 하위 폴더 및 주소에 모두 영향을 미침

layout은 주소별 공통 UI를 포함할 수 있을 뿐만 아니라 _app과 _document를 대신해 웹페이지를 시작하는 데 필요한 공통 코드를 삽입할 수도 있음 
- 이 공통 코드는 기존의 _app과 _document처럼 모든 애플리케이션에 영향을 미치지 않음
- 오로지 자신과 자식 라우팅에만 영향을 미치게 됨. 레이아웃을 더욱 유연하게 구성할 수 있게 됨
- layout.js의 또 다른 장점은 _document.jsx에서만 처리할 수 있었던 부자연스러움이 사라졌다는 것

### page.js
layout과 마찬가지로 page도 예약어이며, 이전까지 Next.js에서 일반적으로 다뤘던 페이지를 의미. 


### error.js
error.js는 해당 라우팅 영역에서 사용되는 공통 에러 컴포넌트. error.js를 사용하면 특정 라우팅별로 서로 다른 에러 내용을 렌더링하는 것이 가능해짐.

### route.js
Next.js 13.4.0에서 app 디렉터리가 정식으로 출시되면서 이전까지 지원하지 못했던 /pages/api에 대한 /app 디렉터리 내부의 지원 추가

