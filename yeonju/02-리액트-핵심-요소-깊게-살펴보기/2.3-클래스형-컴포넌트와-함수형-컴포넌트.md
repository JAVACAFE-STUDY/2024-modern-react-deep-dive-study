# ğŸ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

## ğŸ§¸ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸

### ğŸ“Œ ë§Œë“œëŠ” ë²•

í´ë˜ìŠ¤ë¥¼ ì„ ì–¸ í•˜ê³  ë§Œë“¤ê³  ì‹¶ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ extends í•´ì•¼ í•¨

#### ğŸ“ extends êµ¬ë¬¸ì— ë„£ì„ ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤

1. React.Component
2. React.PureComponent
   - stateê°’ì— ëŒ€í•´ ì–•ì€ ë¹„êµ ìˆ˜í–‰
   - ê²°ê³¼ê°€ ë‹¤ë¥¼ ë•Œë§Œ ë Œë”ë§
   - ë³µì¡í•œ ê°ì²´ëŠ” ë¹„êµ ë¶ˆê°€

```ts
import React from "react";

// props íƒ€ì… ì„ ì–¸
interface SampleProps {
  required?: boolean;
  text: string;
}

// state íƒ€ì… ì„ ì–¸
interface SampleState {
  count: number;
  isLimited?: boolean;
}

// Componentì— ì œë„¤ë¦­ìœ¼ë¡œ props, stateë¥¼ ìˆœì„œëŒ€ë¡œ ë„£ì–´ì¤Œ
class SampleComponent extends React.Component<SampleProps, SampleState> {
  private constructor(props: SampleProps) {
    super(props);
    this.state = {
      count: 0,
      isLimited: false,
    };
  }

  // render ë‚´ë¶€ì—ì„œ ì“°ì¼ í•¨ìˆ˜ë¥¼ ì„ ì–¸
  private handleClick = () => {
    const newValue = this.state.count + 1;
    this.setState({ count: newValue, isLimited: newValue >= 10 });
  };

  // renderì—ì„œ ì´ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§í•  ë‚´ìš©ì„ ì •ì˜í•¨
  public render() {
    // propsì™€ state ê°’ì„ this, ì¦‰ í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ êº¼ëƒ„
    const {
      props: { required, text },
      state: { count, isLimited },
    } = this;

    return (
      <h2>
        Sample Component
        <div>{required ? "í•„ìˆ˜" : "í•„ìˆ˜ì•„ë‹˜"}</div>
        <div>ë¬¸ì: {text}</div>
        <div>count: {count}</div>
        <button onClick={this.handleClick} disabled={isLimited}>
          ì¦ê°€
        </button>
      </h2>
    );
  }
}
```

- constructor(): ì»´í¬ë„ŒíŠ¸ì˜ stateë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆìŒ. super()ë¥¼ í†µí•´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤Œ
  - constructorë¥¼ ì“°ì§€ ì•Šê³  ì´ˆê¸°í™”í•˜ë ¤ë©´?
    - ES2022ë¶€í„° ê°€ëŠ¥ or ë°”ë²¨ì˜ @babel/plugin-proposal-class-propertiesë¥¼ ì‚¬ìš©
- props: í•¨ìˆ˜ì— ì¸ìˆ˜ë¥¼ ë„£ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ê²Œ, ì»´í¬ë„ŒíŠ¸ì— íŠ¹ì • ì†ì„±ì„ ì „ë‹¬í•˜ëŠ” ìš©ë„ë¡œ ì“°ì„
- state: í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê°’
- ë©”ì„œë“œ: ë Œë”ë§ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜
  1. constructorì—ì„œ this ë°”ì¸ë“œë¥¼ í•˜ëŠ” ë°©ë²•
  2. í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì“°ëŠ” ë°©ë²•: ë°”ì¸ë”© í•„ìš” X
  3. ë Œë”ë§ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í•¨ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ ì „ë‹¬í•˜ëŠ” ë°©ë²•: ë§¤ë²ˆ ë Œë”ë§ì´ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•´ì„œ í• ë‹¹ -> ì§€ì–‘í•  ê²ƒ

### ğŸ’¡ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œ

> ìƒëª…ì£¼ê¸° ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì 
>
> 1. mount: ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ëŠ” ì‹œì 
> 2. update: ì´ë¯¸ ìƒì„±ëœ ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ìš©ì´ ë³€ê²½ë˜ëŠ” ì‹œì 
> 3. unmount: ì»´í¬ë„ŒíŠ¸ê°€ ë” ì´ìƒ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‹œì 

#### ğŸ“ render()

- ìƒëª…ì£¼ê¸° ë©”ì„œë“œ ì¤‘ í•˜ë‚˜, í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ ìœ ì¼í•œ í•„ìˆ˜ ê°’
- ì»´í¬ë„ŒíŠ¸ê°€ UIë¥¼ ë Œë”ë§í•˜ê¸° ìœ„í•´ ì“°ì„
- mount, update ê³¼ì •ì—ì„œ ì¼ì–´ë‚¨
- ì£¼ì˜í•´ì•¼í•  ê²ƒ
  - í•­ìƒ ìˆœìˆ˜í•´ì•¼ í•˜ë©° ë¶€ìˆ˜ íš¨ê³¼ê°€ ì—†ì–´ì•¼ í•¨
  - ê°™ì€ ì…ë ¥ê°’(props or state)ì´ ë“¤ì–´ê°€ë©´ í•­ìƒ ê°™ì€ ê²°ê³¼ë¬¼ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤ëŠ” ëœ»
  - ì¦‰, í•­ìƒ ìµœëŒ€í•œ ê°„ê²°í•˜ê³  ê¹”ë”í•˜ê²Œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

#### ğŸ“ ê·¸ ì™¸..

| ìƒëª…ì£¼ê¸° ë©”ì„œë“œ                      |                                                                                                                                                                                              |
| ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| componentDidMount()                  | ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ê³  ì¤€ë¹„ë˜ëŠ” ì¦‰ì‹œ ì‹¤í–‰                                                                                                                                                     |
| componentDidUpdate()                 | ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ê°€ ì¼ì–´ë‚œ ì´í›„ ë°”ë¡œ ì‹¤í–‰                                                                                                                                                    |
| componentWillUnmount()               | ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë˜ê±°ë‚˜ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šê¸° ì§ì „ì— í˜¸ì¶œ / ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë‚˜ ë¶ˆí•„ìš”í•œ ì‘ë™ì„ ë§‰ê¸° ìœ„í•œ í´ë¦°ì—… í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•œ ìµœì ì˜ ìœ„ì¹˜ / ì´ë²¤íŠ¸ ì§€ìš°ê¸°, API í˜¸ì¶œ ì·¨ì†Œ / íƒ€ì´ë¨¸ ì§€ìš°ê¸° |
| shouldComponentUpdate()              | stateë‚˜ propsì˜ ë³€ê²½ìœ¼ë¡œ ë¦¬ë Œë”ë§ë˜ëŠ” ê²ƒì„ ë§‰ê³  ì‹¶ì„ ë•Œ ì‚¬ìš© / íŠ¹ì •í•œ ì„±ëŠ¥ ìµœì í™” ìƒí™©ì—ì„œë§Œ ê³ ë ¤í•´ì•¼ í•¨                                                                                     |
| static getDerivedStateFromProps() ğŸ“Œ | render()ë¥¼ í˜¸ì¶œí•˜ê¸° ì§ì „ì— í˜¸ì¶œ / staticìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆì–´ thisì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ / ë°˜í™˜í•˜ëŠ” ê°ì²´ëŠ” í•´ë‹¹ ê°ì²´ì˜ ë‚´ìš©ì´ ëª¨ë‘ stateë¡œ ë“¤ì–´ê° / null ë°˜í™˜ ì‹œ ì•„ë¬´ì¼ë„ ì•ˆì¼ì–´ë‚¨                   |
| getSnapShotBeforeUpdate() ğŸ“Œ         | DOMì´ ì—…ë°ì´íŠ¸ë˜ê¸° ì§ì „ì— ìˆ˜í–‰ / ë°˜í™˜ê°’ì€ componentDidUpdateë¡œ ì „ë‹¬ë¨ / ë Œë”ë§ë˜ê¸° ì „ì— ìœˆë„ìš° í¬ê¸°ë¥¼ ì¡°ì ˆ, ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì¡°ì • ë“±ì˜ ì‘ì—… ì²˜ë¦¬ì— ìœ ìš©                                           |
| getDerivedStateFromError() ğŸ“Œ        | ì—ëŸ¬ ìƒí™©ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ / ErrorBoundary êµ¬í˜„ ê°€ëŠ¥ / ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ê²½ìš° ìì‹ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì—¬ë¶€ ê²°ì •í•˜ëŠ” ìš©ë„ / ë¶€ìˆ˜ íš¨ê³¼ ì¼ìœ¼í‚¤ë©´ X                                                |
| componentDidCatch()                  | ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ / getDerivedStateFromErrorì—ì„œ ì—ëŸ¬ë¥¼ ì¡ê³  stateë¥¼ ê²°ì •í•œ ì´í›„ì— ì‹¤í–‰                                                                              |

> ğŸ“Œ í‘œì‹œë˜ì–´ ìˆëŠ” 3ê°€ì§€ ë©”ì„œë“œì™€ ë™ì¼í•œ ì‘ì—…ì„ í•  ìˆ˜ ìˆëŠ” í›…ì´ ì•„ì§ ì—†ìŒ => í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ë©´ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨

### ğŸ¤” í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ í•œê³„

1. ë°ì´í„°ì˜ íë¦„ì„ ì¶”ì í•˜ê¸° ì–´ë µë‹¤
2. ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ë¶€ ë¡œì§ì˜ ì¬ì‚¬ìš©ì´ ì–´ë µë‹¤
3. ê¸°ëŠ¥ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì»´í¬ë„ŒíŠ¸ì˜ í¬ê¸°ê°€ ì»¤ì§„ë‹¤
4. í´ë˜ìŠ¤ëŠ” í•¨ìˆ˜ì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ì–´ë µë‹¤
5. ì½”ë“œ í¬ê¸°ë¥¼ ìµœì í™”í•˜ê¸° ì–´ë µë‹¤ = ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë° ì–´ë ¤ì›€
6. í•« ë¦¬ë¡œë”©ì„ í•˜ëŠ” ë° ìƒëŒ€ì ìœ¼ë¡œ ë¶ˆë¦¬í•˜ë‹¤
   - í•« ë¦¬ë¡œë”©: ì½”ë“œì— ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí–ˆì„ ë•Œ ì•±ì„ ë‹¤ì‹œ ì‹œì‘í•˜ì§€ ì•Šê³  ë³€ê²½ëœ ì½”ë“œë§Œ ì—…ë°ì´íŠ¸í•˜ëŠ” ê¸°ë²•

> ì´ëŸ¬í•œ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ê¸°ì¡´ì˜ ë¬´ìƒíƒœ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ + ìƒíƒœë¥¼ ë”í•  ìˆ˜ ìˆëŠ” í›…ì„ ì¶œì‹œ

## ğŸ§¸ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

- ë¦¬ì•¡íŠ¸ 0.14 ë²„ì „ë¶€í„° ë§Œë“¤ì–´ì§„ ê½¤ ì—­ì‚¬ê°€ ê¹Šì€ ì»´í¬ë„ŒíŠ¸ ì„ ì–¸ ë°©ì‹
- 0.14 ë²„ì „ì— í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ê°€ ì†Œê°œëì„ ë•ŒëŠ” stateless functional component, ì´ë¥¸ë°” ë¬´ìƒíƒœ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¼ê³  í•´ì„œ ë³„ë„ì˜ ìƒíƒœ ì—†ì´ ë‹¨ìˆœíˆ ì–´ë– í•œ ìš”ì†Œë¥¼ ì •ì ìœ¼ë¡œ ë Œë”ë§í•˜ëŠ” ê²ƒì´ ëª©ì ì´ì—ˆìŒ

```js
// ì‹¤ì œ 0.14 ë²„ì „ì—ì„œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì†Œê°œí•œ ì½”ë“œ
var Aquarium = (props) => {
  var fish = getFish(props.species);
  return <Tank>{fish}</Tank>;
};

var Aquarium = ({ species }) => <Tank>{getFish(species)}</Tank>;
```

- ì´ë•Œ ë‹¹ì‹œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³„ë‹¤ë¥¸ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë‚˜ ìƒíƒœ(this.states)ê°€ í•„ìš” ì—†ì´ renderë§Œ í•˜ëŠ” ê²½ìš°ì—ë§Œ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©ëìŒ
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ê°€ ê°ê´‘ë°›ê¸° ì‹œì‘í•œ ê²ƒì€ 16.8 ë²„ì „ì—ì„œ í›…ì´ ì†Œê°œëœ ì´í›„ì˜€ìŒ

```tsx
// 16.8 ë²„ì „
import { useState } from "react";

type SampleProps = {
  required?: boolean;
  text: string;
};

export function SampleComponent({ required, text }: SampleProps) {
  const [count, setCount] = useState<number>(0);
  const [isLimited, setIsLimited] = useState<boolean>(false);

  function handleClick() {
    const newValue = count + 1;
    setCount(newValue);
    setIsLimited(newValue >= 10);
  }

  return (
    <h2>
      Sample Component
      <div>{required ? "í•„ìˆ˜" : "í•„ìˆ˜ ì•„ë‹˜"}</div>
      <div>ë¬¸ì: {text}</div>
      <div>count: {count}</div>
      <button onClick={handleClick} disabled={isLimited}>
        ì¦ê°€
      </button>
    </h2>
  );
}
```

- this ë°”ì¸ë”©ì„ ì¡°ì‹¬í•  í•„ìš” ì—†ìŒ
- stateê°€ ê°ì²´ê°€ ì•„ë‹Œ ê°ê°ì˜ ì›ì‹œê°’ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ì‚¬ìš©í•˜ê¸° í¸ë¦¬

## ğŸ¤” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ vs í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸

1. ìƒëª…ì£¼ê¸° ë©”ì„œë“œì˜ ë¶€ì¬
   - useEffectë¥¼ ì´ìš©í•´ componentDidMount, componentDidUpdate, componentWillUnmountë¥¼ **ë¹„ìŠ·**í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŒ
   - useEffectëŠ” ìƒëª…ì£¼ê¸°ë¥¼ ìœ„í•œ í›…ì€ ì•„ë‹˜
2. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì™€ ë Œë”ë§ëœ ê°’
   - í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸: ë Œë”ë§ëœ ê°’ì„ ê³ ì •
   - í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸: ê·¸ë ‡ì§€ ëª»í•¨
